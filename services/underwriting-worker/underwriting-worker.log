{"level":"info","timestamp":"2025-08-17T13:52:19.646+0700","caller":"cmd/main.go:37","message":"Starting underwriting worker service","service":"underwriting-worker","version":"1.0.0","version":"1.0.0","environment":"development"}
{"level":"info","timestamp":"2025-08-17T13:52:19.646+0700","caller":"tasks/underwriting_task_worker.go:60","message":"Initializing underwriting task handlers","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.646+0700","caller":"tasks/underwriting_task_worker.go:106","message":"All underwriting task handlers initialized successfully","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.646+0700","caller":"cmd/main.go:47","message":"Starting underwriting task worker","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:116","message":"Starting underwriting task worker","service":"underwriting-worker","version":"1.0.0","conductor_url":"http://localhost:8082","client_type":"real Conductor","worker_pool_size":10,"polling_interval_ms":1000}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:155","message":"Registering underwriting workflow tasks","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"credit_check","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:159","message":"Registered task: credit_check","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"income_verification","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:163","message":"Registered task: income_verification","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"risk_assessment","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:167","message":"Registered task: risk_assessment","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"underwriting_decision","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:171","message":"Registered task: underwriting_decision","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"update_application_state","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:175","message":"Registered task: update_application_state","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"policy_compliance_check","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:187","message":"Registered task: policy_compliance_check","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"fraud_detection","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:191","message":"Registered task: fraud_detection","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"calculate_interest_rate","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:195","message":"Registered task: calculate_interest_rate","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"final_approval","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:199","message":"Registered task: final_approval","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"process_denial","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:203","message":"Registered task: process_denial","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"assign_manual_review","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:207","message":"Registered task: assign_manual_review","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"process_conditional_approval","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:211","message":"Registered task: process_conditional_approval","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"generate_counter_offer","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:215","message":"Registered task: generate_counter_offer","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:180","message":"All underwriting tasks registered successfully","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.647+0700","caller":"tasks/underwriting_task_worker.go:285","message":"Registering workflow and task definitions with Conductor","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:52:19.669+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"credit_check","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.669+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"credit_check"}
{"level":"info","timestamp":"2025-08-17T13:52:19.673+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"income_verification","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.673+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"income_verification"}
{"level":"info","timestamp":"2025-08-17T13:52:19.677+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"risk_assessment","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.677+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"risk_assessment"}
{"level":"info","timestamp":"2025-08-17T13:52:19.680+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"underwriting_decision","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.680+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"underwriting_decision"}
{"level":"info","timestamp":"2025-08-17T13:52:19.683+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.683+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state"}
{"level":"info","timestamp":"2025-08-17T13:52:19.687+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"policy_compliance_check","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.687+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"policy_compliance_check"}
{"level":"info","timestamp":"2025-08-17T13:52:19.689+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"fraud_detection","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.689+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"fraud_detection"}
{"level":"info","timestamp":"2025-08-17T13:52:19.691+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"calculate_interest_rate","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.691+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"calculate_interest_rate"}
{"level":"info","timestamp":"2025-08-17T13:52:19.693+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"final_approval","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.693+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"final_approval"}
{"level":"info","timestamp":"2025-08-17T13:52:19.695+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"process_denial","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.695+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"process_denial"}
{"level":"info","timestamp":"2025-08-17T13:52:19.696+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"assign_manual_review","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.696+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"assign_manual_review"}
{"level":"info","timestamp":"2025-08-17T13:52:19.698+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"process_conditional_approval","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.698+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"process_conditional_approval"}
{"level":"info","timestamp":"2025-08-17T13:52:19.700+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"generate_counter_offer","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:52:19.700+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"generate_counter_offer"}
{"level":"error","timestamp":"2025-08-17T13:52:19.711+0700","caller":"tasks/underwriting_task_worker.go:314","message":"Failed to register workflow definition","service":"underwriting-worker","version":"1.0.0","error":"register workflow definition failed with status 409: {\"status\":409,\"message\":\"Workflow with underwriting_workflow.1 already exists!\",\"instance\":\"a7dbcbc29eb7\",\"retryable\":false}","stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).registerWorkflowDefinitions\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:314\nunderwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).Start\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:127\nmain.main.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/cmd/main.go:48"}
{"level":"error","timestamp":"2025-08-17T13:52:19.711+0700","caller":"tasks/underwriting_task_worker.go:128","message":"Failed to register workflow definitions","service":"underwriting-worker","version":"1.0.0","error":"register workflow definition failed with status 409: {\"status\":409,\"message\":\"Workflow with underwriting_workflow.1 already exists!\",\"instance\":\"a7dbcbc29eb7\",\"retryable\":false}","stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).Start\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:128\nmain.main.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/cmd/main.go:48"}
{"level":"info","timestamp":"2025-08-17T13:52:19.711+0700","caller":"tasks/http_conductor_client.go:117","message":"Starting HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","conductor_url":"http://localhost:8082","worker_pool_size":10,"polling_interval_ms":1000}
{"level":"info","timestamp":"2025-08-17T13:52:19.712+0700","caller":"tasks/http_conductor_client.go:173","message":"Successfully connected to Conductor server","service":"underwriting-worker","version":"1.0.0","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:52:19.712+0700","caller":"tasks/http_conductor_client.go:135","message":"HTTP Conductor client started successfully","service":"underwriting-worker","version":"1.0.0"}
