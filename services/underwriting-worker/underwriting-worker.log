{"level":"info","timestamp":"2025-08-17T13:56:55.699+0700","caller":"cmd/main.go:37","message":"Starting underwriting worker service","service":"underwriting-worker","version":"1.0.0","version":"1.0.0","environment":"development"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:60","message":"Initializing underwriting task handlers","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:106","message":"All underwriting task handlers initialized successfully","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"cmd/main.go:47","message":"Starting underwriting task worker","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:116","message":"Starting underwriting task worker","service":"underwriting-worker","version":"1.0.0","conductor_url":"http://localhost:8082","client_type":"real Conductor","worker_pool_size":10,"polling_interval_ms":1000}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:155","message":"Registering underwriting workflow tasks","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"credit_check","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:159","message":"Registered task: credit_check","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"income_verification","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:163","message":"Registered task: income_verification","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"risk_assessment","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:167","message":"Registered task: risk_assessment","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"underwriting_decision","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:171","message":"Registered task: underwriting_decision","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"update_application_state","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:175","message":"Registered task: update_application_state","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"policy_compliance_check","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:187","message":"Registered task: policy_compliance_check","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"fraud_detection","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:191","message":"Registered task: fraud_detection","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"calculate_interest_rate","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:195","message":"Registered task: calculate_interest_rate","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"final_approval","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:199","message":"Registered task: final_approval","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"process_denial","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:203","message":"Registered task: process_denial","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"assign_manual_review","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:207","message":"Registered task: assign_manual_review","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"process_conditional_approval","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:211","message":"Registered task: process_conditional_approval","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/http_conductor_client.go:106","message":"Registered worker for task type with HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","task_type":"generate_counter_offer","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:215","message":"Registered task: generate_counter_offer","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:180","message":"All underwriting tasks registered successfully","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.700+0700","caller":"tasks/underwriting_task_worker.go:285","message":"Registering workflow and task definitions with Conductor","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T13:56:55.719+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"credit_check","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.719+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"credit_check"}
{"level":"info","timestamp":"2025-08-17T13:56:55.721+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"income_verification","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.721+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"income_verification"}
{"level":"info","timestamp":"2025-08-17T13:56:55.723+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"risk_assessment","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.723+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"risk_assessment"}
{"level":"info","timestamp":"2025-08-17T13:56:55.725+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"underwriting_decision","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.725+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"underwriting_decision"}
{"level":"info","timestamp":"2025-08-17T13:56:55.727+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.727+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state"}
{"level":"info","timestamp":"2025-08-17T13:56:55.730+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"policy_compliance_check","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.730+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"policy_compliance_check"}
{"level":"info","timestamp":"2025-08-17T13:56:55.732+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"fraud_detection","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.732+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"fraud_detection"}
{"level":"info","timestamp":"2025-08-17T13:56:55.734+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"calculate_interest_rate","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.734+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"calculate_interest_rate"}
{"level":"info","timestamp":"2025-08-17T13:56:55.736+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"final_approval","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.736+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"final_approval"}
{"level":"info","timestamp":"2025-08-17T13:56:55.738+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"process_denial","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.738+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"process_denial"}
{"level":"info","timestamp":"2025-08-17T13:56:55.739+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"assign_manual_review","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.739+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"assign_manual_review"}
{"level":"info","timestamp":"2025-08-17T13:56:55.740+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"process_conditional_approval","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.741+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"process_conditional_approval"}
{"level":"info","timestamp":"2025-08-17T13:56:55.742+0700","caller":"tasks/http_conductor_client.go:620","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"generate_counter_offer","status_code":200}
{"level":"info","timestamp":"2025-08-17T13:56:55.742+0700","caller":"tasks/underwriting_task_worker.go:307","message":"Registered task definition","service":"underwriting-worker","version":"1.0.0","task_name":"generate_counter_offer"}
{"level":"error","timestamp":"2025-08-17T13:56:55.748+0700","caller":"tasks/underwriting_task_worker.go:314","message":"Failed to register workflow definition","service":"underwriting-worker","version":"1.0.0","error":"register workflow definition failed with status 409: {\"status\":409,\"message\":\"Workflow with underwriting_workflow.1 already exists!\",\"instance\":\"a7dbcbc29eb7\",\"retryable\":false}","stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).registerWorkflowDefinitions\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:314\nunderwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).Start\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:127\nmain.main.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/cmd/main.go:48"}
{"level":"error","timestamp":"2025-08-17T13:56:55.748+0700","caller":"tasks/underwriting_task_worker.go:128","message":"Failed to register workflow definitions","service":"underwriting-worker","version":"1.0.0","error":"register workflow definition failed with status 409: {\"status\":409,\"message\":\"Workflow with underwriting_workflow.1 already exists!\",\"instance\":\"a7dbcbc29eb7\",\"retryable\":false}","stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).Start\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:128\nmain.main.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/cmd/main.go:48"}
{"level":"info","timestamp":"2025-08-17T13:56:55.748+0700","caller":"tasks/http_conductor_client.go:117","message":"Starting HTTP Conductor client","service":"underwriting-worker","version":"1.0.0","conductor_url":"http://localhost:8082","worker_pool_size":10,"polling_interval_ms":1000}
{"level":"info","timestamp":"2025-08-17T13:56:55.748+0700","caller":"tasks/http_conductor_client.go:173","message":"Successfully connected to Conductor server","service":"underwriting-worker","version":"1.0.0","conductor_url":"http://localhost:8082"}
{"level":"info","timestamp":"2025-08-17T13:56:55.748+0700","caller":"tasks/http_conductor_client.go:135","message":"HTTP Conductor client started successfully","service":"underwriting-worker","version":"1.0.0"}
{"level":"info","timestamp":"2025-08-17T14:07:16.253+0700","caller":"tasks/http_conductor_client.go:281","message":"Executing task","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-8","task_id":"ccbd2cb8-7b38-11f0-a413-1ec36ef668ea","task_type":"update_application_state"}
{"level":"info","timestamp":"2025-08-17T14:07:16.254+0700","caller":"tasks/underwriting_task_worker.go:228","message":"Executing underwriting task","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state","task_id":"ccbd2cb8-7b38-11f0-a413-1ec36ef668ea","workflow_instance_id":"6e9d7ae4-7b36-11f0-a413-1ec36ef668ea","input_data":{"applicationId":"87a25a1c-7de5-4382-90a1-eb9ad07164f9","fromState":"identity_verified","reason":"Underwriting process started","toState":"underwriting"}}
{"level":"info","timestamp":"2025-08-17T14:07:16.254+0700","caller":"tasks/update_application_state_task.go:35","message":"Starting application state update task","service":"underwriting-worker","version":"1.0.0","handler":"update_application_state","operation":"update_application_state"}
{"level":"error","timestamp":"2025-08-17T14:07:16.254+0700","caller":"tasks/underwriting_task_worker.go:238","message":"Task execution failed","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state","task_id":"ccbd2cb8-7b38-11f0-a413-1ec36ef668ea","workflow_instance_id":"6e9d7ae4-7b36-11f0-a413-1ec36ef668ea","error":"new state is required","processing_time":0.000092917,"stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).registerUnderwritingTasks.(*UnderwritingTaskWorker).wrapTaskHandler.func5\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:238\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:321\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:322\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
{"level":"info","timestamp":"2025-08-17T14:07:16.254+0700","caller":"tasks/http_conductor_client.go:364","message":"Task execution completed","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-8","task_id":"ccbd2cb8-7b38-11f0-a413-1ec36ef668ea","status":"FAILED","processing_time":0.000347125}
{"level":"info","timestamp":"2025-08-17T14:07:21.309+0700","caller":"tasks/http_conductor_client.go:281","message":"Executing task","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-3","task_id":"d18933ba-7b38-11f0-a413-1ec36ef668ea","task_type":"credit_check"}
{"level":"info","timestamp":"2025-08-17T14:07:21.310+0700","caller":"tasks/underwriting_task_worker.go:228","message":"Executing underwriting task","service":"underwriting-worker","version":"1.0.0","task_name":"credit_check","task_id":"d18933ba-7b38-11f0-a413-1ec36ef668ea","workflow_instance_id":"6e9d7ae4-7b36-11f0-a413-1ec36ef668ea","input_data":{"applicationId":"87a25a1c-7de5-4382-90a1-eb9ad07164f9","personalInfo":"not_provided","ssn":"not_provided","userId":"550e8400-e29b-41d4-a716-446655440001"}}
{"level":"info","timestamp":"2025-08-17T14:07:21.310+0700","caller":"tasks/credit_check_task.go:46","message":"Starting credit check task","service":"underwriting-worker","version":"1.0.0","handler":"credit_check","operation":"credit_check"}
{"level":"error","timestamp":"2025-08-17T14:07:21.310+0700","caller":"tasks/http_conductor_client.go:316","message":"Task handler panic recovered","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-3","task_id":"d18933ba-7b38-11f0-a413-1ec36ef668ea","panic":"runtime error: invalid memory address or nil pointer dereference","stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1.1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:316\nruntime.gopanic\n\t/usr/local/go/src/runtime/panic.go:785\nruntime.panicmem\n\t/usr/local/go/src/runtime/panic.go:262\nruntime.sigpanic\n\t/usr/local/go/src/runtime/signal_unix.go:917\nunderwriting_worker/infrastructure/workflow/tasks.(*CreditCheckTaskHandler).Execute\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/credit_check_task.go:60\nunderwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).registerUnderwritingTasks.(*UnderwritingTaskWorker).wrapTaskHandler.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:233\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:321\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:322\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
{"level":"error","timestamp":"2025-08-17T14:07:21.310+0700","caller":"tasks/http_conductor_client.go:339","message":"Task execution failed","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-3","task_id":"d18933ba-7b38-11f0-a413-1ec36ef668ea","error":"task handler panicked: runtime error: invalid memory address or nil pointer dereference","processing_time":0.00023975,"stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:339\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
{"level":"info","timestamp":"2025-08-17T14:10:51.212+0700","caller":"tasks/http_conductor_client.go:281","message":"Executing task","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-8","task_id":"4eb014e6-7b39-11f0-a413-1ec36ef668ea","task_type":"credit_check"}
{"level":"info","timestamp":"2025-08-17T14:10:51.212+0700","caller":"tasks/underwriting_task_worker.go:228","message":"Executing underwriting task","service":"underwriting-worker","version":"1.0.0","task_name":"credit_check","task_id":"4eb014e6-7b39-11f0-a413-1ec36ef668ea","workflow_instance_id":"6e9d7ae4-7b36-11f0-a413-1ec36ef668ea","input_data":{"applicationId":"87a25a1c-7de5-4382-90a1-eb9ad07164f9","personalInfo":"not_provided","ssn":"not_provided","userId":"550e8400-e29b-41d4-a716-446655440001"}}
{"level":"info","timestamp":"2025-08-17T14:10:51.212+0700","caller":"tasks/credit_check_task.go:46","message":"Starting credit check task","service":"underwriting-worker","version":"1.0.0","handler":"credit_check","operation":"credit_check"}
{"level":"error","timestamp":"2025-08-17T14:10:51.212+0700","caller":"tasks/http_conductor_client.go:316","message":"Task handler panic recovered","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-8","task_id":"4eb014e6-7b39-11f0-a413-1ec36ef668ea","panic":"runtime error: invalid memory address or nil pointer dereference","stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1.1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:316\nruntime.gopanic\n\t/usr/local/go/src/runtime/panic.go:785\nruntime.panicmem\n\t/usr/local/go/src/runtime/panic.go:262\nruntime.sigpanic\n\t/usr/local/go/src/runtime/signal_unix.go:917\nunderwriting_worker/infrastructure/workflow/tasks.(*CreditCheckTaskHandler).Execute\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/credit_check_task.go:60\nunderwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).registerUnderwritingTasks.(*UnderwritingTaskWorker).wrapTaskHandler.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:233\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:321\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:322\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
{"level":"error","timestamp":"2025-08-17T14:10:51.212+0700","caller":"tasks/http_conductor_client.go:339","message":"Task execution failed","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-8","task_id":"4eb014e6-7b39-11f0-a413-1ec36ef668ea","error":"task handler panicked: runtime error: invalid memory address or nil pointer dereference","processing_time":0.000427084,"stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:339\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
{"level":"info","timestamp":"2025-08-17T14:12:26.380+0700","caller":"tasks/http_conductor_client.go:281","message":"Executing task","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-4","task_id":"8755bad2-7b39-11f0-a413-1ec36ef668ea","task_type":"update_application_state"}
{"level":"info","timestamp":"2025-08-17T14:12:26.381+0700","caller":"tasks/underwriting_task_worker.go:228","message":"Executing underwriting task","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state","task_id":"8755bad2-7b39-11f0-a413-1ec36ef668ea","workflow_instance_id":"6ba3bbba-7b39-11f0-a413-1ec36ef668ea","input_data":{"applicationId":"5dd27e75-2c1f-4301-a7ca-966f02cfcd2f","fromState":"documents_submitted","reason":"Identity verification completed","toState":"identity_verified"}}
{"level":"info","timestamp":"2025-08-17T14:12:26.381+0700","caller":"tasks/update_application_state_task.go:35","message":"Starting application state update task","service":"underwriting-worker","version":"1.0.0","handler":"update_application_state","operation":"update_application_state"}
{"level":"error","timestamp":"2025-08-17T14:12:26.381+0700","caller":"tasks/underwriting_task_worker.go:238","message":"Task execution failed","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state","task_id":"8755bad2-7b39-11f0-a413-1ec36ef668ea","workflow_instance_id":"6ba3bbba-7b39-11f0-a413-1ec36ef668ea","error":"new state is required","processing_time":0.000399042,"stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).registerUnderwritingTasks.(*UnderwritingTaskWorker).wrapTaskHandler.func5\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:238\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:321\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:322\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
{"level":"info","timestamp":"2025-08-17T14:12:26.381+0700","caller":"tasks/http_conductor_client.go:364","message":"Task execution completed","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-4","task_id":"8755bad2-7b39-11f0-a413-1ec36ef668ea","status":"FAILED","processing_time":0.001409291}
{"level":"info","timestamp":"2025-08-17T14:12:36.298+0700","caller":"tasks/http_conductor_client.go:281","message":"Executing task","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-9","task_id":"8d49c718-7b39-11f0-a413-1ec36ef668ea","task_type":"credit_check"}
{"level":"info","timestamp":"2025-08-17T14:12:36.298+0700","caller":"tasks/underwriting_task_worker.go:228","message":"Executing underwriting task","service":"underwriting-worker","version":"1.0.0","task_name":"credit_check","task_id":"8d49c718-7b39-11f0-a413-1ec36ef668ea","workflow_instance_id":"8a4f4bc5-7b39-11f0-a413-1ec36ef668ea","input_data":{"applicationId":"5dd27e75-2c1f-4301-a7ca-966f02cfcd2f","personalInfo":"not_provided","ssn":"not_provided","userId":"550e8400-e29b-41d4-a716-446655440001"}}
{"level":"info","timestamp":"2025-08-17T14:12:36.298+0700","caller":"tasks/credit_check_task.go:46","message":"Starting credit check task","service":"underwriting-worker","version":"1.0.0","handler":"credit_check","operation":"credit_check"}
{"level":"error","timestamp":"2025-08-17T14:12:36.298+0700","caller":"tasks/http_conductor_client.go:316","message":"Task handler panic recovered","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-9","task_id":"8d49c718-7b39-11f0-a413-1ec36ef668ea","panic":"runtime error: invalid memory address or nil pointer dereference","stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1.1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:316\nruntime.gopanic\n\t/usr/local/go/src/runtime/panic.go:785\nruntime.panicmem\n\t/usr/local/go/src/runtime/panic.go:262\nruntime.sigpanic\n\t/usr/local/go/src/runtime/signal_unix.go:917\nunderwriting_worker/infrastructure/workflow/tasks.(*CreditCheckTaskHandler).Execute\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/credit_check_task.go:60\nunderwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).registerUnderwritingTasks.(*UnderwritingTaskWorker).wrapTaskHandler.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:233\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:321\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:322\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
{"level":"error","timestamp":"2025-08-17T14:12:36.298+0700","caller":"tasks/http_conductor_client.go:339","message":"Task execution failed","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-9","task_id":"8d49c718-7b39-11f0-a413-1ec36ef668ea","error":"task handler panicked: runtime error: invalid memory address or nil pointer dereference","processing_time":0.000139375,"stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:339\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
ng_time":0.000454916}
{"level":"info","timestamp":"2025-08-17T14:07:13.177+0700","caller":"tasks/http_conductor_client.go:281","message":"Executing task","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-3","task_id":"ccb2f387-7b38-11f0-a413-1ec36ef668ea","task_type":"update_application_state"}
{"level":"info","timestamp":"2025-08-17T14:07:13.178+0700","caller":"tasks/underwriting_task_worker.go:228","message":"Executing underwriting task","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state","task_id":"ccb2f387-7b38-11f0-a413-1ec36ef668ea","workflow_instance_id":"6e9d7ae4-7b36-11f0-a413-1ec36ef668ea","input_data":{"applicationId":"87a25a1c-7de5-4382-90a1-eb9ad07164f9","fromState":"identity_verified","reason":"Underwriting process started","toState":"underwriting"}}
{"level":"info","timestamp":"2025-08-17T14:07:13.178+0700","caller":"tasks/update_application_state_task.go:35","message":"Starting application state update task","service":"underwriting-worker","version":"1.0.0","handler":"update_application_state","operation":"update_application_state"}
{"level":"error","timestamp":"2025-08-17T14:07:13.178+0700","caller":"tasks/underwriting_task_worker.go:238","message":"Task execution failed","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state","task_id":"ccb2f387-7b38-11f0-a413-1ec36ef668ea","workflow_instance_id":"6e9d7ae4-7b36-11f0-a413-1ec36ef668ea","error":"new state is required","processing_time":0.0001485,"stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).registerUnderwritingTasks.(*UnderwritingTaskWorker).wrapTaskHandler.func5\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:238\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:321\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:322\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
{"level":"info","timestamp":"2025-08-17T14:07:13.178+0700","caller":"tasks/http_conductor_client.go:364","message":"Task execution completed","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-3","task_id":"ccb2f387-7b38-11f0-a413-1ec36ef668ea","status":"FAILED","processing_time":0.00139075}
{"level":"info","timestamp":"2025-08-17T14:09:26.268+0700","caller":"tasks/http_conductor_client.go:281","message":"Executing task","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-5","task_id":"1c0a6220-7b39-11f0-a413-1ec36ef668ea","task_type":"credit_check"}
{"level":"info","timestamp":"2025-08-17T14:09:26.268+0700","caller":"tasks/underwriting_task_worker.go:228","message":"Executing underwriting task","service":"underwriting-worker","version":"1.0.0","task_name":"credit_check","task_id":"1c0a6220-7b39-11f0-a413-1ec36ef668ea","workflow_instance_id":"6e9d7ae4-7b36-11f0-a413-1ec36ef668ea","input_data":{"applicationId":"87a25a1c-7de5-4382-90a1-eb9ad07164f9","personalInfo":"not_provided","ssn":"not_provided","userId":"550e8400-e29b-41d4-a716-446655440001"}}
{"level":"info","timestamp":"2025-08-17T14:09:26.268+0700","caller":"tasks/credit_check_task.go:46","message":"Starting credit check task","service":"underwriting-worker","version":"1.0.0","handler":"credit_check","operation":"credit_check"}
{"level":"error","timestamp":"2025-08-17T14:09:26.268+0700","caller":"tasks/http_conductor_client.go:316","message":"Task handler panic recovered","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-5","task_id":"1c0a6220-7b39-11f0-a413-1ec36ef668ea","panic":"runtime error: invalid memory address or nil pointer dereference","stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1.1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:316\nruntime.gopanic\n\t/usr/local/go/src/runtime/panic.go:785\nruntime.panicmem\n\t/usr/local/go/src/runtime/panic.go:262\nruntime.sigpanic\n\t/usr/local/go/src/runtime/signal_unix.go:917\nunderwriting_worker/infrastructure/workflow/tasks.(*CreditCheckTaskHandler).Execute\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/credit_check_task.go:60\nunderwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).registerUnderwritingTasks.(*UnderwritingTaskWorker).wrapTaskHandler.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:233\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:321\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:322\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
{"level":"error","timestamp":"2025-08-17T14:09:26.268+0700","caller":"tasks/http_conductor_client.go:339","message":"Task execution failed","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-5","task_id":"1c0a6220-7b39-11f0-a413-1ec36ef668ea","error":"task handler panicked: runtime error: invalid memory address or nil pointer dereference","processing_time":0.000644208,"stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:339\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
{"level":"info","timestamp":"2025-08-17T14:11:41.371+0700","caller":"tasks/http_conductor_client.go:281","message":"Executing task","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-7","task_id":"6c8457bc-7b39-11f0-a413-1ec36ef668ea","task_type":"update_application_state"}
{"level":"info","timestamp":"2025-08-17T14:11:41.372+0700","caller":"tasks/underwriting_task_worker.go:228","message":"Executing underwriting task","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state","task_id":"6c8457bc-7b39-11f0-a413-1ec36ef668ea","workflow_instance_id":"6ba3bbba-7b39-11f0-a413-1ec36ef668ea","input_data":{"applicationId":"5dd27e75-2c1f-4301-a7ca-966f02cfcd2f","fromState":"initiated","reason":"Application validated and pre-qualified","toState":"pre_qualified"}}
{"level":"info","timestamp":"2025-08-17T14:11:41.372+0700","caller":"tasks/update_application_state_task.go:35","message":"Starting application state update task","service":"underwriting-worker","version":"1.0.0","handler":"update_application_state","operation":"update_application_state"}
{"level":"error","timestamp":"2025-08-17T14:11:41.372+0700","caller":"tasks/underwriting_task_worker.go:238","message":"Task execution failed","service":"underwriting-worker","version":"1.0.0","task_name":"update_application_state","task_id":"6c8457bc-7b39-11f0-a413-1ec36ef668ea","workflow_instance_id":"6ba3bbba-7b39-11f0-a413-1ec36ef668ea","error":"new state is required","processing_time":0.00026725,"stacktrace":"underwriting_worker/infrastructure/workflow/tasks.(*UnderwritingTaskWorker).registerUnderwritingTasks.(*UnderwritingTaskWorker).wrapTaskHandler.func5\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/underwriting_task_worker.go:238\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask.func1\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:321\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).executeTask\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:322\nunderwriting_worker/infrastructure/workflow/tasks.(*HTTPConductorClient).pollingWorker\n\t/Volumes/Data/Projects/bmad/trial/services/underwriting-worker/infrastructure/workflow/tasks/http_conductor_client.go:205"}
{"level":"info","timestamp":"2025-08-17T14:11:41.372+0700","caller":"tasks/http_conductor_client.go:364","message":"Task execution completed","service":"underwriting-worker","version":"1.0.0","worker_id":"worker-7","task_id":"6c8457bc-7b39-11f0-a413-1ec36ef668ea","status":"FAILED","processing_time":0.001354}
